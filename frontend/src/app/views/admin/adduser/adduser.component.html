<div class="min-h-screen bg-[#edf1f4] p-4 md:p-6">
  <div class="max-w-2xl mx-auto bg-white rounded-xl shadow-md overflow-hidden">
    <!-- Header -->
    <div class="bg-gradient-to-r from-[#4f5fad] to-[#7826b5] p-6 text-white">
      <h2 class="text-2xl font-bold text-center">Add New User</h2>
    </div>

    <!-- Form -->
    <div class="p-6 md:p-8">
      <form #userForm="ngForm" (ngSubmit)="add(userForm)" class="space-y-6">
        <!-- User Name -->
        <div>
          <label for="username" class="block text-sm font-medium text-[#6d6870] mb-1">User Name</label>
          <input
            type="text"
            class="w-full px-4 py-3 rounded-lg border border-[#bdc6cc] focus:border-[#7826b5] focus:ring-2 focus:ring-[#dac4ea] transition-all"
            name="username"
            ngModel
            required
            minlength="3"
            maxlength="30"
            pattern="^[a-zA-Z0-9_ ]+$" 
            #username="ngModel"
            placeholder="Enter username"
          />
          <div *ngIf="username.invalid && username.touched" class="text-[#ff6b69] text-sm mt-1">
            <div *ngIf="username.errors?.['required']">Username is required</div>
            <div *ngIf="username.errors?.['minlength']">Minimum 3 characters</div>
            <div *ngIf="username.errors?.['maxlength']">Maximum 30 characters</div>
            <div *ngIf="username.errors?.['pattern']">Only letters, numbers, underscores and spaces</div>
          </div>
        </div>
        
        <!-- Email -->
        <div>
          <label for="email" class="block text-sm font-medium text-[#6d6870] mb-1">Email</label>
          <input
            type="email"
            class="w-full px-4 py-3 rounded-lg border border-[#bdc6cc] focus:border-[#7826b5] focus:ring-2 focus:ring-[#dac4ea] transition-all"
            name="email"
            ngModel
            required
            email
            maxlength="100"
            #email="ngModel"
            placeholder="Enter email"
          />
          <div *ngIf="email.invalid && email.touched" class="text-[#ff6b69] text-sm mt-1">
            <div *ngIf="email.errors?.['required']">Email is required</div>
            <div *ngIf="email.errors?.['email']">Please enter a valid email</div>
            <div *ngIf="email.errors?.['maxlength']">Maximum 100 characters</div>
          </div>
        </div>
        
        <!-- Role -->
        <div>
          <label for="role" class="block text-sm font-medium text-[#6d6870] mb-1">Role</label>
          <select
            class="w-full px-4 py-3 rounded-lg border border-[#bdc6cc] focus:border-[#7826b5] focus:ring-2 focus:ring-[#dac4ea] transition-all bg-white"
            name="role"
            ngModel
            required
            #role="ngModel"
          >
            <option value="">Select a role</option>
            <option value="student">Student</option>
            <option value="tutor">Tutor</option>
            <option value="admin">Admin</option>
          </select>
          <div *ngIf="role.invalid && role.touched" class="text-[#ff6b69] text-sm mt-1">
            Role is required
          </div>
        </div>
        
        <!-- Password -->
        <div>
          <label for="password" class="block text-sm font-medium text-[#6d6870] mb-1">Password</label>
          <input
            type="password"
            class="w-full px-4 py-3 rounded-lg border border-[#bdc6cc] focus:border-[#7826b5] focus:ring-2 focus:ring-[#dac4ea] transition-all"
            name="password"
            ngModel
            required
            minlength="8"
            maxlength="50"
            pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]+$"
            #password="ngModel"
            placeholder="Enter password"
          />
          <div *ngIf="password.invalid && password.touched" class="text-[#ff6b69] text-sm mt-1">
            <div *ngIf="password.errors?.['required']">Password is required</div>
            <div *ngIf="password.errors?.['minlength']">Minimum 8 characters</div>
            <div *ngIf="password.errors?.['maxlength']">Maximum 50 characters</div>
            <div *ngIf="password.errors?.['pattern']">Must include uppercase, lowercase, number and special character</div>
          </div>
        </div>
        
        <!-- Error Message -->
        <div *ngIf="messageErr" class="bg-[#ff6b69]/10 border border-[#ff6b69] text-[#ff6b69] p-3 rounded-lg">
          {{ messageErr }}
        </div>
        
        <!-- Submit Button -->
        <div>
          <button 
            type="submit" 
            class="w-full bg-[#7826b5] hover:bg-[#4f5fad] text-white font-bold py-3 px-4 rounded-lg transition-all focus:outline-none focus:ring-2 focus:ring-[#dac4ea] focus:ring-offset-2"
            [disabled]="userForm.invalid"
            [ngClass]="{'opacity-50 cursor-not-allowed': userForm.invalid}">
            Add User
          </button>
        </div>
      </form>
    </div>
  </div>
</div>